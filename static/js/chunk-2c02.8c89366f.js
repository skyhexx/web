(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2c02"],{"+suW":function(n,t,e){"use strict";var s=e("9GJy");e.n(s).a},"9GJy":function(n,t,e){},Ddmz:function(n,t,e){"use strict";e.d(t,"a",function(){return s});var s=["cfx"]},TiIK:function(n,t,e){"use strict";e.r(t);var s=e("14Xm"),i=e.n(s),a=e("D3Ub"),o=e.n(a),r=e("mG4U"),c=e("Ddmz"),u=e("YgiN"),l={data:function(){return{domains:[],parseDomain:[],isShoudMoreLong:!1,errorTLD:!1}},computed:{connectedAccount:function(){return this.$store.state.wallet.connectedAccount}},mounted:function(){var n=this;setTimeout(function(){n.searchDomain()},1e3)},created:function(){this.getEventData()},methods:{searchDomain:function(){""!=this.$route.query.name&&(this.domain=this.$route.query.name,this.$store.dispatch("SearchDomain",this.domain),void 0!=this.domain&&this.handleTimeOut())},getEventData:function(){var n=this;r.a.$on("searchEventFromSearchBar",function(t){n.domain=t,n.$router.push({path:"/search",query:{name:t}}),n.parseDomainFun(t)})},parseDomainFun:function(n){for(var t=n.length,e=0,s=0;s<t;s++)"."==n.charAt(s)&&(e+=1);if(0==e){var i=new Array;for(var a in c.a)i.push(n+"."+c.a[a]);this.parseDomain=i,this.errorTLD=!1}else if(1==e||2==e){var o=n.split("."),r=o.slice(-1)[0];if(r.length>0&&-1==c.a.indexOf(r))console.log("Error TLD"),this.errorTLD=!0;else{this.errorTLD=!1;i=new Array;for(var a in c.a)1==e?i.push(o.slice(0,1)[0]+"."+c.a[a]):2==e&&i.push(o.slice(0,1)[0]+"."+o.slice(1,2)[0]+"."+c.a[a]);this.parseDomain=i}}else this.errorTLD=!0,console.log("Error TLD");console.log(this.parseDomain),this.getDomainInfo(this.parseDomain)},handleTimeOut:function(){var n=this;setTimeout(function(){n.parseDomainFun(n.domain)},500)},getDomainInfo:function(n){var t=this;return o()(i.a.mark(function e(){var s,a,o,r,c,l,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.openLoading(),s=new u.a,a=[],o={},r=0;case 5:if(!(r<t.parseDomain.length)){e.next=29;break}return console.log(n[r]),e.next=9,s.exists(n[r]);case 9:if(c=e.sent,l="",h="",!c){e.next=19;break}return e.next=15,s.resolver(n[r]);case 15:return l=e.sent,e.next=18,s.owner(n[r]);case 18:h=e.sent;case 19:o.isExist=c,o.resolver=l,o.tokenURI=n[r],o.owner=h,o.isPremium=n[r].length<=9,t.isShoudMoreLong=n[r].length<=9,a.push(o);case 26:r++,e.next=5;break;case 29:console.log(a),t.domains=a,t.closeLoading();case 32:case"end":return e.stop()}},e,t)}))()},openLoading:function(){var n=this.$t("app.searching");this.loading=this.$loading({lock:!0,text:n,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});var t=this;setTimeout(function(){t.closeLoading()},1e4)},closeLoading:function(){this.loading.close()},awaitWraper:function(n){return n.then(function(n){return[null,n]}).catch(function(n){return[n,null]})},onSubmit:function(){this.$message("submit!")},onCancel:function(){this.$message({message:"cancel!",type:"warning"})}}},h=(e("+suW"),e("KHd+")),m=Object(h.a)(l,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"app-container"},[n.isShoudMoreLong?e("div",{staticClass:"should-more-long"}):n._e(),n._v(" "),n._l(n.domains,function(t,s){return e("div",{staticClass:"search-domain-row"},[e("div",{staticClass:"left"},[e("div",{staticClass:"coin-svg"},[e("svg-icon",{attrs:{"icon-class":"conflux"}})],1),n._v(" "),e("div",{staticClass:"coin-domain"},[n._v(n._s(t.tokenURI))])]),n._v(" "),e("div",{staticClass:"right"},[t.isPremium?e("span",{staticClass:"premium"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.$t("app.premium"),placement:"top"}},[e("svg-icon",{attrs:{"icon-class":"crown"}})],1)],1):n._e(),n._v(" "),t.isExist?e("el-button",{attrs:{type:"primary",loading:!1}},[n._v(n._s(n.$t("app.alreadyRegistry")))]):n._e()],1)])}),n._v(" "),0==n.domains.length?e("div",{staticClass:"error-domains-row"},[e("span",[e("svg-icon",{attrs:{"icon-class":"searching"}})],1),n._v(" "),e("span",[n._v(n._s(n.$t("app.findYourDomain")))])]):n._e()],2)},[],!1,null,"ac3db974",null);m.options.__file="search.vue";t.default=m.exports}}]);